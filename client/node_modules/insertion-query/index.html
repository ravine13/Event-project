<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>demo</title>

    <script src="insQ.js"></script>
    <style>
        .container span {
            padding: 5px;
            font-size: 0;
            margin: 1px;
            background: green;
        }

        .container {
            overflow: visible;
        }
    </style>
</head>

<body>

    <div class="container">
        <span></span>
    </div>

    <p>Open the console and watch...</p>
    <button class="js-add">add one</button>
    <button class="js-spray">add multiple</button>
    <button class="js-container">add container</button>

    <script>
        insertionQ("span").summary(function(summary) {
            console.log(summary)
        })

        var container = document.querySelector(".container");
        document.querySelector(".js-add").addEventListener("click", function() {
            container.appendChild(document.createElement("span"))
        })

        document.querySelector(".js-spray").addEventListener("click", function() {
            for (var i = 0; i < 10; i++) {
                container.appendChild(document.createElement("span"))
            }
        })


        document.querySelector(".js-container").addEventListener("click", function() {
            var box = document.createElement("div")
            box.appendChild(document.createElement("span"))
            box.appendChild(document.createElement("span"))
            container.appendChild(box)
            container.appendChild(document.createElement("span"))
        })
    </script>
</body>

</html>
